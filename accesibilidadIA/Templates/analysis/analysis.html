{% extends 'base.html' %}
{% load static %}
{% block title %}Nuevo análisis{% endblock %}
{% block head %}
{{ super }}
<script src="{% static 'js/horizontalScroll.js' %}"></script>
<link rel="stylesheet" href="{% static 'css/horizontalScroll.css' %}">
{% endblock %}
{% block header %}
<div class="title-container">
    <h1>Nuevo análisis</h1>
</div>
{% endblock %}
{% block content %}

<div class="scroll-main-container">
    <form method="post" enctype="multipart/form-data" id="analysis-form">
      {% csrf_token %}
        <div class="scroll-content-container" id="scroll-content-container">

            <section class="page">
                <div class="scroll-header">
                    <h2>Paso 1/3: Cargar archivo HTML</h2>
                </div>
                <div class="upload-file-container">
                    <div class="upload-content-container" id="drop-area">
                        <div class="upload-icon" id="upload-icon"></div>
                        <div class="upload-text" id="upload-text">Agregar archivo HTML</div>
                    </div>
                    <div class="upload-btn-container">
                        <label for="file-input" class="upload-button">Examinar</label>
                        <input type="file" id="file-input" name="file-input" aria-label="Cargar archivo HTML" required/>
                    </div>
                </div>
            </section>

            <section class="page">
                <div class="scroll-header">
                    <h2>Paso 2/3: Establecer preferencias</h2>
                </div>
                <div class="analysis-preference-container">
                    <form>
                        <div class="form-group">
                            <label for="analysis-name">Nombre del análisis</label>
                            <input type="text" id="analysis-name" name="analysis-name"
                                placeholder="Escriba un nombre para el análisis" required>
                        </div>
                        <div class="form-group">
                            <label for="description">Descripción</label>
                            <textarea id="description" name="description"
                                placeholder="Escriba una descripción" required></textarea>
                        </div>
                    </form>
                </div>
            </section>

            <section class="page">
                <div class="scroll-header">
                    <h2>Paso 3/3: Vista Previa</h2>
                </div>
                <div class="analysis-preview-container">
                        <div class="form-group">
                            <label for="file-name-preview">Archivo</label>
                            <input type="text" id="file-name-preview" name="file-name-preview" disabled>
                        </div>
                        <div class="form-group">
                            <label for="analysis-name-preview">Nombre del análisis</label>
                            <textarea id="analysis-name-preview" name="analysis-name-preview"
                                disabled></textarea>
                        </div>
                        <div class="form-group">
                            <label for="description-preview">Descripción</label>
                            <textarea id="description-preview" name="description-preview"
                                disabled> </textarea>
                        </div>
                         <!-- Nueva sección de checkboxes para categorías de errores de usabilidad -->
                        <div class="form-group">
                            <label for="usability-errors">Aplicar filtro de Errores de Usabilidad</label>
                            <a>Aplicar filtro a los resultados para solo mostrar algun tipo de error de los de abajo</a>
                            <div id="usability-errors">
                                <div>
                                    <input type="checkbox" id="error1" name="usability-errors" value="Accesibilidad">
                                    <label for="error1">Accesibilidad</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="error2" name="usability-errors" value="Interacción">
                                    <label for="error2">Interacción</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="error3" name="usability-errors" value="Visibilidad">
                                    <label for="error3">Visibilidad</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="error4" name="usability-errors" value="Desempeño">
                                    <label for="error4">Desempeño</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="error5" name="usability-errors" value="Estética">
                                    <label for="error5">Estética</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="error6" name="usability-errors" value="Feedback">
                                    <label for="error6">Feedback</label>
                                </div>
                            </div>
                        </div>
                        <div class="start-btn-container">
                            <button type="submit" class="start-button" id="submitBtn">Iniciar análisis</button>
                        </div>
                </div>
            </section>

        </div>

    </form>

    <div class="indicators nav-buttons" id="indicators">
        <div class="nav-button-container">
            <button id="prevBtn" class="nav-button material-icons"
                aria-label="Botón de vista anterior">arrow_back</button>
            <span id="prevLbl" class="nav-label">Anterior</span>
        </div>
        <span class="dot active" data-index="0"></span>
        <span class="dot" data-index="1"></span>
        <span class="dot" data-index="2"></span>
        <div class="nav-button-container">
            <button id="nextBtn" class="nav-button material-icons"
                aria-label="Botón de siguiente vista">arrow_forward</button>
            <span id="nextLbl" class="nav-label">Siguiente</span>
        </div>

    </div>

</div>

{% endblock %}